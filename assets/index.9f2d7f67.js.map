{"version":3,"file":"index.9f2d7f67.js","sources":["../../node_modules/.pnpm/antd-mobile-icons@0.2.2/node_modules/antd-mobile-icons/es/PlayOutline.js","../../src/components/SongsList/index.tsx"],"sourcesContent":["import * as React from \"react\";\n\nfunction PlayOutline(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 48 48\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\"\n  }, props, {\n    style: Object.assign({\n      verticalAlign: '-0.125em'\n    }, props.style),\n    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')\n  }), /*#__PURE__*/React.createElement(\"title\", null, \"CFE74F2F-7E21-474C-9D5B-DB933E337FAF@2x\"), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"PlayOutline-PlayOutline\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"PlayOutline-\\u7F16\\u7EC4\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"PlayOutline-\\u77E9\\u5F62\",\n    fill: \"#FFFFFF\",\n    opacity: 0,\n    x: 0,\n    y: 0,\n    width: 48,\n    height: 48\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.7542635,5 L13.7542635,5 C14.4346997,5 15.1023464,5.17879782 15.6858218,5.51730753 L42.1766882,20.8867866 L42.1766884,20.8867867 C43.954638,21.9182878 44.5311886,24.1481853 43.4644541,25.8674033 C43.1473985,26.3783891 42.7051305,26.8060484 42.1766884,27.1126297 L15.6858221,42.4821088 L15.6858224,42.4821086 C13.9078904,43.5136394 11.6018067,42.9561767 10.5350149,41.2369758 C10.1849222,40.6727702 10,40.0271653 10,39.3691893 L10,8.63023111 L10,8.63023166 C10,6.62531187 11.6808306,5 13.7542421,5 L13.7542635,5 Z M13.7542635,7.72267123 L13.7542635,7.72267123 C13.2784351,7.72267123 12.8779439,8.06709552 12.8222725,8.52404271 L12.8157026,8.63022688 L12.8157026,39.369185 L12.8157026,39.3692026 C12.8157026,39.8704336 13.2355864,40.2770731 13.7539409,40.2770731 C13.8870633,40.2770731 14.0186722,40.249778 14.1400304,40.1968699 L14.236702,40.1478619 L40.7284922,24.7774894 L40.7284923,24.7774894 C41.1728598,24.5194214 41.3167368,23.9618834 41.0498545,23.5321949 C40.9896328,23.4352363 40.9111988,23.3500171 40.8185937,23.2809268 L40.7284918,23.2219354 L14.2366576,7.85156296 L14.2366576,7.85156295 C14.0908783,7.76717376 13.9241432,7.72267123 13.7542388,7.72267123 L13.7542635,7.72267123 Z\",\n    id: \"PlayOutline-\\u5F62\\u72B6\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }))));\n}\n\nexport default PlayOutline;","import React from \"react\";\nimport \"./index.scss\";\nimport { PlayOutline } from \"antd-mobile-icons\";\nimport { useAppDispatch } from \"@/store\";\nimport { changeCurrentIndex, changePlayList, changeSequencePlayList } from \"@/store/playerSlice\";\n\n// 处理歌手列表拼接歌手名字\nexport const getName = (list: { name: string }[]) => {\n  let str = \"\";\n  list.map((item: { name: string }, index: number) => {\n    str += index === 0 ? item.name : \"/\" + item.name;\n    return item;\n  });\n  return str;\n};\n\ninterface Props {\n  songs: any;\n  showCollect: boolean;\n  collectCount?: number;\n  musicAnimation?: any;\n  showBackground?: boolean;\n}\n\n// eslint-disable-next-line react/display-name\nconst SongsList = React.forwardRef((props: Props, refs: any) => {\n  const { songs, showCollect, collectCount, showBackground } = props;\n\n  const totalCount = songs.length;\n\n  const dispatch = useAppDispatch();\n  const selectItem = (e: any, index: number) => {\n    dispatch(changeCurrentIndex(index));\n    dispatch(changeSequencePlayList(songs));\n    dispatch(changePlayList(songs));\n  };\n  const songList = (list: any) => {\n    const res = [];\n    for (let i = 0; i < list.length; i++) {\n      const item = list[i];\n      res.push(\n        <li key={item.id} onClick={e => selectItem(e, i)}>\n          <span className=\"index\">{i + 1}</span>\n          <div className=\"info\">\n            <span>{item.name}</span>\n            <span>\n              {item.ar ? getName(item.ar) : getName(item.artists)} -{\" \"}\n              {item.al ? item.al.name : item.album.name}\n            </span>\n          </div>\n        </li>\n      );\n    }\n    return res;\n  };\n\n  const collect = (count: any) => {\n    return (\n      <div className=\"add_list\">\n        <i className=\"iconfont\">&#xe62d;</i>\n        <span>收藏({Math.floor(count / 1000) / 10}万)</span>\n      </div>\n    );\n  };\n  return (\n    <div className=\"SongList\" ref={refs} style={{ background: `${showBackground ? \"#fff\" : \"\"}` }}>\n      <div className=\"first_line\">\n        <div className=\"play_all\">\n          <span className=\"iconfont\">\n            <PlayOutline />\n          </span>\n          <span>\n            播放全部 <span className=\"sum\">(共{totalCount}首)</span>\n          </span>\n        </div>\n        {showCollect ? collect(collectCount) : null}\n      </div>\n      <div className=\"SongItem\">{songList(songs)}</div>\n    </div>\n  );\n});\n\n// 将ui组件包装成容器组件\nexport default React.memo(SongsList);\n"],"names":["PlayOutline","props","Object","assign","width","height","viewBox","xmlns","xmlnsXlink","style","verticalAlign","className","filter","Boolean","join","react","exports","createElement","React.createElement","id","stroke","strokeWidth","fill","fillRule","opacity","x","y","d","getName","list","str","map","item","index2","name","SongsList","React","forwardRef","refs","songs","showCollect","collectCount","showBackground","totalCount","length","dispatch","useAppDispatch","ref","background","count","Math","floor","res","i","push","key","onClick","e","changeCurrentIndex","changeSequencePlayList","changePlayList","ar","artists","al","album","songList","SongsList$1","memo"],"mappings":"2EAEA,SAAAA,EAAqBC,GACnB,+BAAwC,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,MACPC,OAAQ,MACRC,QAAS,YACTC,MAAO,6BACPC,WAAY,gCACXP,EAAO,CACRQ,MAAOP,OAAOC,OAAO,CACnBO,cAAe,YACdT,EAAMQ,OACTE,UAAW,CAAC,mBAAoBV,EAAMU,WAAWC,OAAOC,SAASC,KAAK,OACpCC,EAAAC,QAAAC,cAAC,QAAS,KAAM,2CAAyDC,EAAmBF,QAAAC,cAAC,IAAK,CACpIE,GAAI,0BACJC,OAAQ,OACRC,YAAa,EACbC,KAAM,OACNC,SAAU,WACIL,EAAAA,QAAAA,cAAoB,IAAK,CACvCC,GAAI,kBACUD,EAAAA,QAAAA,cAAoB,OAAQ,CAC1CC,GAAI,iBACJG,KAAM,UACNE,QAAS,EACTC,EAAG,EACHC,EAAG,EACHtB,MAAO,GACPC,OAAQ,KAC0BU,EAAAC,QAAAC,cAAC,OAAQ,CAC3CU,EAAG,2qCACHR,GAAI,iBACJG,KAAM,eACNC,SAAU,eC3BD,MAAAK,EAAWC,IACtB,IAAIC,EAAM,GAKH,OAJFD,EAAAE,KAAI,CAACC,EAAwBC,KAChCH,GAAiB,IAAVG,EAAcD,EAAKE,KAAO,IAAMF,EAAKE,KACrCF,KAEFF,GAYHK,EAAYC,EAAMC,YAAW,CAACpC,EAAcqC,KAChD,MAAMC,MAAEA,EAAAC,YAAOA,EAAaC,aAAAA,EAAAC,eAAcA,GAAmBzC,EAEvD0C,EAAaJ,EAAMK,OAEnBC,EAAWC,IAmCd,OAAAV,EAAAnB,cAAA,MAAA,CAAIN,UAAU,WAAWoC,IAAKT,EAAM7B,MAAO,CAAEuC,WAAY,IAAGN,EAAiB,OAAS,MACpFN,EAAAnB,cAAA,MAAA,CAAIN,UAAU,cACZyB,EAAAnB,cAAA,MAAA,CAAIN,UAAU,YACZyB,EAAAnB,cAAA,OAAA,CAAKN,UAAU,4BACbX,EAAY,OAEdoC,EAAAnB,cAAA,OAAA,KAAK,QACEmB,EAAAnB,cAAA,OAAA,CAAKN,UAAU,OAAM,KAAGgC,EAAW,QAG5CH,GAnBUS,EAmBYR,EAjBxBL,EAAAnB,cAAA,MAAA,CAAIN,UAAU,YACZyB,EAAAnB,cAAA,IAAA,CAAEN,UAAU,YAAW,KACvByB,EAAAnB,cAAA,OAAA,KAAK,MAAIiC,KAAKC,MAAMF,EAAQ,KAAQ,GAAG,QAeD,MAExCb,EAAAnB,cAAA,MAAA,CAAIN,UAAU,YAzCF,CAACkB,IAChB,MAAMuB,EAAM,GACZ,IAAA,IAASC,EAAI,EAAGA,EAAIxB,EAAKe,OAAQS,IAAK,CACpC,MAAMrB,EAAOH,EAAKwB,GACdD,EAAAE,KACDlB,EAAAnB,cAAA,KAAA,CAAGsC,IAAKvB,EAAKb,GAAIqC,QAASC,IATtBZ,EAAAa,EASyCL,IARzCR,EAAAc,EAAuBpB,SACvBM,EAAAe,EAAerB,MAQjBH,EAAAnB,cAAA,OAAA,CAAKN,UAAU,SAAS0C,EAAI,GAC5BjB,EAAAnB,cAAA,MAAA,CAAIN,UAAU,QACZyB,EAAAnB,cAAA,OAAA,KAAMe,EAAKE,MACZE,EAAAnB,cAAC,OACE,KAAAe,EAAK6B,GAAKjC,EAAQI,EAAK6B,IAAMjC,EAAQI,EAAK8B,SAAS,KAAG,IACtD9B,EAAK+B,GAAK/B,EAAK+B,GAAG7B,KAAOF,EAAKgC,MAAM9B,SAMxC,OAAAkB,GAwBsBa,CAAS1B,KArBxB,IAACU,KA2BnB,IAAAiB,EAAe9B,EAAM+B,KAAKhC"}