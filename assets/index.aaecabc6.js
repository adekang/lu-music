import{r as e,R as t,S as a,n as s,f as l,b as n,o as r,p as i,q as o,s as c,t as m,v as p,x as d,y as u,z as f,A as E}from"./index.43ee1ebf.js";import{L as g}from"./index.0a9bf4c3.js";import{I as x}from"./index.20af472f.js";var v="singers-module_NavContainer_aOR18",h="singers-module_Container_gFFFM",k="singers-module_ListWrapper_AmQLp",y="singers-module_ListItem_Xv5k5",_="singers-module_ImgWrapper_qmqi4";const L=s=>{const{list:l=[],oldVal:n="",title:r="",handleClick:i=null}=s,o=e.exports.useRef();return e.exports.useEffect((()=>{const e=o.current,t=e.querySelectorAll("span");let a=0;Array.from(t).forEach((e=>{a+=e.offsetWidth})),e.style.width=`${a}px`}),[]),t.createElement(a,{direction:"horizontal"},t.createElement("div",{className:"ListItem",ref:o},t.createElement("span",null,r),l.map((e=>t.createElement("span",{onClick:()=>{i&&i(e.key)},className:""+(n===e.key?"selected":""),key:e.key},e.name)))))};var C=e.exports.memo((function(){const[C,N]=e.exports.useState(""),[I,b]=e.exports.useState(""),{singerList:q,enterLoading:w,pullDownLoading:A,pullUpLoading:S,pageCount:j}=s((e=>e.singers)),z=l(),F=n();e.exports.useEffect((()=>{z(r(!0)),z(i(C,I))}),[I,C]),e.exports.useEffect((()=>{z(o(0)),z(r(!0)),z(c())}),[]);const R=(e,t,a)=>{z(a?f():E(e,t))};return t.createElement("div",null,t.createElement("div",{className:v},t.createElement(L,{list:m,title:"分类(默认热门):",oldVal:C,handleClick:e=>{N(e)}}),t.createElement(L,{list:p,oldVal:I,title:"首字母:",handleClick:e=>{b(e)}})),t.createElement("div",{className:h},t.createElement(a,{bounceTop:!0,pullUp:()=>{z(o(j+30)),z(d(!0)),R(C,I,""===C&&""===I)},pullDown:()=>{z(o(0)),z(u(!0)),z(""===C&&""===I?c():i(C,I))}},t.createElement("div",{className:k},q.length?q.map(((e,a)=>t.createElement("div",{key:e.accountId+""+a,onClick:()=>F(`/singers/${e.id}`),className:y},t.createElement("div",{className:_},t.createElement(x,{src:`${e.picUrl}?param=300x300`,width:"100%",height:"100%",lazy:!0})),t.createElement("span",null,e.name)))):null))),w||A||S?t.createElement(g,null):null)}));export{C as default};
//# sourceMappingURL=index.aaecabc6.js.map
