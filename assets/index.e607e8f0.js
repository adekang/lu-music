import{R as e,K as t,b as a,r as l,e as s,F as c,L as r,S as n,M as m,N as o}from"./index.43ee1ebf.js";import{S as i}from"./index.9f2d7f67.js";import{L as u}from"./index.0a9bf4c3.js";import{H as d}from"./index.5355e585.js";import"./LeftOutline.81613f0c.js";var E=e.memo((()=>{const{id:E}=t(),p=a(),[v,f]=l.exports.useState(!0),[N,b]=l.exports.useState(!1),[x,y]=l.exports.useState("歌单"),[g,C]=l.exports.useState(),[k,S]=l.exports.useState(!0),h=l.exports.useRef();l.exports.useEffect((()=>{s(Number(E)).then((e=>{const t=e.playlist;C(t),S(!1)})).catch((e=>(S(!1),e)))}),[E]);const j=l.exports.useCallback((()=>{f(!1)}),[]),M=l.exports.useCallback((e=>{const t=-o,a=Math.abs(e.y/t),l=h.current;e.y<t?(l.style.backgroundColor="#d44439",l.style.opacity=Math.min(1,(a-1)/2),y(g.name),b(!0)):(l.style.backgroundColor="",l.style.opacity=1,y("歌单"),b(!1))}),[g]);return e.createElement(c,{in:v,timeout:300,classNames:"fly",appear:!0,unmountOnExit:!0,onExited:()=>p(-1)},e.createElement("div",{className:"AlbumContainer"},e.createElement(d,{ref:h,title:x,onClose:j,isMarquee:N}),e.createElement("hr",null),r(g)?null:e.createElement(n,{bounceTop:!1,onScroll:M},e.createElement("div",null,e.createElement("div",{className:"AlbumTopDesc",style:{background:`url(${g.coverImgUrl}),no-repeat`}},e.createElement("div",{className:"background"},e.createElement("div",{className:"filter"})),e.createElement("div",{className:"img_wrapper"},e.createElement("div",{className:"decorate"}),e.createElement("img",{src:g.coverImgUrl,alt:""}),e.createElement("div",{className:"play_count"},e.createElement("i",{className:"iconfont play"},""),e.createElement("span",{className:"count"},m(g.subscribedCount)))),e.createElement("div",{className:"desc_wrapper"},e.createElement("div",{className:"title"},g.name),e.createElement("div",{className:"person"},e.createElement("div",{className:"avatar"},e.createElement("img",{src:g.creator.avatarUrl,alt:""})),e.createElement("div",{className:"name"},g.creator.nickname)))),e.createElement("div",{className:"AlbumMenu"},e.createElement("div",null,e.createElement("i",{className:"iconfont"},""),"评论"),e.createElement("div",null,e.createElement("i",{className:"iconfont"},""),"点赞"),e.createElement("div",null,e.createElement("i",{className:"iconfont"},""),"收藏"),e.createElement("div",null,e.createElement("i",{className:"iconfont"},""),"更多")),e.createElement(i,{songs:g.tracks,collectCount:g.subscribedCount,showCollect:!0,showBackground:!0}))),k?e.createElement(u,null):null))}));export{E as default};
//# sourceMappingURL=index.e607e8f0.js.map
